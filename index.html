<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>easyJet Org – d3-org-chart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body { height:100%; margin:0; }
    #chart { height:100vh; }
    .node-title { font-weight:600; font-size:14px; }
    .node-sub { font-size:12px; color:#555; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3-org-chart@3"></script>
</head>
<body>
  <div id="chart"></div>
  <script>
    // Flat data (id, parentId). Titles shown in nodes.
    const data = [
      { id: 'Kenton Jarvis', title: '' },

      { id: 'Sophie Dekkers', parentId: 'Kenton Jarvis', title: 'Chief Commercial Officer' },
      { id: 'Robert Birge', parentId: 'Kenton Jarvis', title: 'Chief Customer and Marketing Officer' },
      { id: 'Donna Collins', parentId: 'Kenton Jarvis', title: 'Executive Assistant to CEO' },
      { id: 'David Morgan', parentId: 'Kenton Jarvis', title: 'Chief Operations Officer' },
      { id: 'Opal Perry', parentId: 'Kenton Jarvis', title: 'Chief Data and Technology Officer' },
      { id: 'Thomas Haagensen', parentId: 'Kenton Jarvis', title: 'Group Markets Director' },
      { id: 'Rebecca Mills', parentId: 'Kenton Jarvis', title: 'Group General Counsel and Company Secretary' },
      { id: 'Elly Tomlins', parentId: 'Kenton Jarvis', title: 'Chief People Officer' },
      { id: 'Garry Wilson', parentId: 'Kenton Jarvis', title: 'Chief Executive Officer – easyJet Holidays' },
      { id: 'Jan De Raeymaeker', parentId: 'Kenton Jarvis', title: 'Chief Financial Officer' },

      { id: 'Daniele Grassini', parentId: 'David Morgan', title: 'Director of Training and Standards' },
      { id: 'Michael Brown', parentId: 'David Morgan', title: 'Director of Cabin Services' },
      { id: 'Neil Slaven', parentId: 'David Morgan', title: 'Director of Operations Strategy and Planning' },
      { id: 'Karen Honour', parentId: 'David Morgan', title: 'Executive Assistant' },
      { id: 'Simon Cox', parentId: 'David Morgan', title: 'Director of Ground Operations' },
      { id: 'Chris Hartman', parentId: 'David Morgan', title: 'Operations Consultant' },
      { id: 'Gill Baudot', parentId: 'David Morgan', title: 'Director of Network Control' },
      { id: 'Brendan McConnellogue', parentId: 'David Morgan', title: 'Director of Engineering & Maintenance' },
      { id: 'Bart Prudon', parentId: 'David Morgan', title: 'Director of Flight Operations' },
      { id: 'Jim Pegram', parentId: 'David Morgan', title: 'Director Safety, Security & Compliance' },
      { id: 'Hugh McConnellogue', parentId: 'David Morgan', title: 'Director of Gatwick' },
      { id: 'Jean-Marc Thevenaz', parentId: 'David Morgan', title: 'Managing Director Switzerland' },

      { id: 'Jamie Fraser', parentId: 'Bart Prudon', title: 'Head of Operations Transformation' },
      { id: 'Alexander Gerritsen', parentId: 'Bart Prudon', title: 'Chief Pilot' },
      { id: 'Paul Ingram', parentId: 'Bart Prudon', title: 'Head of Flight Crew Operations' },
      { id: 'Emily Tollafield', parentId: 'Bart Prudon', title: 'Head of Business Delivery' },
      { id: 'Joakim Westberg', parentId: 'Bart Prudon', title: 'Safety Manager AOC, ATO & CAMO' }
    ];

    const chart = new d3.OrgChart()
      .container('#chart')
      .data(data)
      .nodeWidth(d => 240)
      .nodeHeight(d => 70)
      .childrenMargin(d => 40)
      .compact(true)
      .initialZoom(0.9)
      .zoom(true)
      .onNodeClick(d => {               // collapse/expand on click
        chart.collapse(d);
        chart.render().fit();
      })
      .nodeContent(d => `
        <div style="box-shadow:0 1px 3px rgba(0,0,0,0.2); border-radius:10px; padding:10px; background:#fff; width:230px; height:60px; box-sizing:border-box;">
          <div class="node-title">${d.data.id}</div>
          <div class="node-sub">${d.data.title || ''}</div>
        </div>
      `)
      .render()
      .fit();
  </script>
</body>
</html>
