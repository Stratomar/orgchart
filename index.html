<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Org Chart (Open-source: dabeng/orgchart)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- jQuery + OrgChart (MIT) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/orgchart/dist/css/jquery.orgchart.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/orgchart/dist/js/jquery.orgchart.min.js"></script>

  <style>
    html, body { height: 100%; margin: 0; }
    #chart-wrap { height: 100vh; overflow: hidden; box-sizing: border-box; padding: 12px; }
    #chart { height: 100%; }
    .orgchart { background: #fff; }
    .orgchart .title { font-weight: 600; }
    .orgchart .content { font-size: 12px; color: #555; }
  </style>
</head>
<body>
  <div id="chart-wrap">
    <div id="chart"></div>
  </div>

  <script>
    // Build the hierarchy as nested JSON
    const ds = {
      name: 'Kenton Jarvis',
      title: '',
      children: [
        { name: 'Sophie Dekkers', title: 'Chief Commercial Officer' },
        { name: 'Robert Birge', title: 'Chief Customer and Marketing Officer' },
        { name: 'Donna Collins', title: 'Executive Assistant to CEO' },
        {
          name: 'David Morgan', title: 'Chief Operations Officer',
          children: [
            { name: 'Daniele Grassini', title: 'Director of Training and Standards' },
            { name: 'Michael Brown', title: 'Director of Cabin Services' },
            { name: 'Neil Slaven', title: 'Director of Operations Strategy and Planning' },
            { name: 'Karen Honour', title: 'Executive Assistant' },
            { name: 'Simon Cox', title: 'Director of Ground Operations' },
            { name: 'Chris Hartman', title: 'Operations Consultant' },
            { name: 'Gill Baudot', title: 'Director of Network Control' },
            { name: 'Brendan McConnellogue', title: 'Director of Engineering & Maintenance' },
            {
              name: 'Bart Prudon', title: 'Director of Flight Operations',
              children: [
                { name: 'Jamie Fraser', title: 'Head of Operations Transformation' },
                { name: 'Alexander Gerritsen', title: 'Chief Pilot' },
                { name: 'Paul Ingram', title: 'Head of Flight Crew Operations' },
                { name: 'Emily Tollafield', title: 'Head of Business Delivery' },
                { name: 'Joakim Westberg', title: 'Safety Manager AOC, ATO & CAMO' }
              ]
            },
            { name: 'Jim Pegram', title: 'Director Safety, Security & Compliance' },
            { name: 'Hugh McConnellogue', title: 'Director of Gatwick' },
            { name: 'Jean-Marc Thevenaz', title: 'Managing Director Switzerland' }
          ]
        },
        { name: 'Opal Perry', title: 'Chief Data and Technology Officer' },
        { name: 'Thomas Haagensen', title: 'Group Markets Director' },
        { name: 'Rebecca Mills', title: 'Group General Counsel and Company Secretary' },
        { name: 'Elly Tomlins', title: 'Chief People Officer' },
        { name: 'Garry Wilson', title: 'Chief Executive Officer â€“ easyJet Holidays' },
        { name: 'Jan De Raeymaeker', title: 'Chief Financial Officer' }
      ]
    };

    $(function () {
      $('#chart').orgchart({
        data: ds,
        nodeTitle: 'name',
        nodeContent: 'title',
        pan: true,          // click-drag to move
        zoom: true,         // Ctrl/trackpad zoom
        direction: 't2b',   // top-to-bottom
        depth: 2,           // initially show two levels (click to expand deeper)
        toggleSiblingsResp: true,
      });

      // Optional: click handler (keeps built-in expand/collapse)
      $('#chart').on('click', '.node', function (e) {
        const $node = $(this);
        const name = $node.find('.title').text().trim() || $node.find('.title').attr('title');
        const role = $node.find('.content').text().trim();
        console.log('Selected:', name, '|', role);
        // Example: window.open(`/people/${encodeURIComponent(name)}`, '_blank');
      });
    });
  </script>
</body>
</html>
